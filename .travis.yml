language: c
compiler: clang
services:
- rabbitmq
node_js:
- '0.10'
before_install:
- sudo add-apt-repository ppa:ubuntu-toolchain-r/test -y
- sudo add-apt-repository ppa:boost-latest/ppa -y
- sudo apt-get update -qq
- sudo apt-get install g++-4.8
- sudo apt-get install libboost1.55-all-dev
install:
- wget http://mosquitto.org/files/source/mosquitto-1.3.1.tar.gz
- tar xzf mosquitto-1.3.1.tar.gz
- cd mosquitto-1.3.1
- cmake .
- sudo make install
- cd ..
- npm install
before_script:
- mosquitto -d
- make CPP=g++-4.8 EXTRA_LDFLAGS=-L/usr/lib/x86_64-linux-gnu/
script:
- npm test

